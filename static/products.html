<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - InfinExpense</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">InfinExpense</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Dashboard</a></li>
                <li><a href="receipts.html" class="nav-link">Receipts</a></li>
                <li><a href="products.html" class="nav-link active">Products</a></li>
                <li><a href="categories.html" class="nav-link">Categories</a></li>
                <li><a href="merchants.html" class="nav-link">Merchants</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">Products</h1>
            <a href="product-add.html" class="btn btn-primary">+ Add Product</a>
        </div>

        <!-- Search Bar and Items Per Page -->
        <div class="search-bar">
            <input type="text" id="searchInput" class="search-input" placeholder="Search products by name, category, or price...">
            <button class="btn btn-primary" onclick="filterItems()">Search</button>
            <select id="itemsPerPage" class="form-select" style="width: auto; min-width: 150px;" onchange="changeItemsPerPage()">
                <option value="5" selected>Show 5</option>
                <option value="10">Show 10</option>
                <option value="20">Show 20</option>
                <option value="50">Show 50</option>
            </select>
        </div>

        <!-- Products List -->
        <div class="list-container" id="productsList">
            <a href="product-2001.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Milk Semi-Skimmed</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Dairy</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">1L</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532147</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€0.89</div>
                    </div>
                </div>
            </a>

            <a href="product-2002.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Bread Whole Wheat</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Bakery</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">500g</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532148</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€1.20</div>
                    </div>
                </div>
            </a>

            <a href="product-2003.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Chicken Breast</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Meat</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">800g</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532149</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€7.60</div>
                    </div>
                </div>
            </a>

            <a href="product-2004.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Tomatoes</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Vegetables</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">1.2kg</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532150</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€2.40</div>
                    </div>
                </div>
            </a>

            <a href="product-2005.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Bananas</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Fruits</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">1.5kg</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532151</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€1.80</div>
                    </div>
                </div>
            </a>

            <a href="product-2006.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Olive Oil Extra Virgin</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Condiments</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">750ml</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532152</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€6.50</div>
                    </div>
                </div>
            </a>

            <a href="product-2007.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Rice Basmati</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Grains</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">1kg</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532153</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€2.99</div>
                    </div>
                </div>
            </a>

            <a href="product-2008.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Pasta Spaghetti</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Grains</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">500g</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532154</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€1.45</div>
                    </div>
                </div>
            </a>

            <a href="product-2009.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Orange Juice</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Beverages</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">1.5L</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532155</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€2.85</div>
                    </div>
                </div>
            </a>

            <a href="product-2010.html" class="list-item product-item">
                <div class="list-item-main">
                    <div>
                        <div class="list-item-label">Product Name</div>
                        <div class="list-item-value">Coffee Beans</div>
                    </div>
                    <div>
                        <div class="list-item-label">Category</div>
                        <div class="list-item-value">Beverages</div>
                    </div>
                    <div>
                        <div class="list-item-label">Amount</div>
                        <div class="list-item-value">250g</div>
                    </div>
                    <div>
                        <div class="list-item-label">Barcode</div>
                        <div class="list-item-value">5600308532156</div>
                    </div>
                    <div>
                        <div class="list-item-label">Price</div>
                        <div class="list-item-value">€4.99</div>
                    </div>
                </div>
            </a>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <button class="pagination-btn" id="prevBtn" onclick="changePage(-1)">Previous</button>
            <span id="pageNumbers"></span>
            <button class="pagination-btn" id="nextBtn" onclick="changePage(1)">Next</button>
        </div>
    </div>

    <script>
        let currentPage = 1;
        let itemsPerPage = 5;
        const allItems = document.querySelectorAll('.product-item');
        const totalItems = allItems.length;

        function showPage(page) {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;

            allItems.forEach((item, index) => {
                if (index >= startIndex && index < endIndex) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });

            updatePagination();
        }

        function updatePagination() {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pageNumbers = document.getElementById('pageNumbers');
            pageNumbers.innerHTML = '';

            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.className = 'pagination-btn' + (i === currentPage ? ' active' : '');
                btn.textContent = i;
                btn.onclick = () => {
                    currentPage = i;
                    showPage(currentPage);
                };
                pageNumbers.appendChild(btn);
            }

            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
        }

        function changePage(direction) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            currentPage += direction;
            if (currentPage < 1) currentPage = 1;
            if (currentPage > totalPages) currentPage = totalPages;
            showPage(currentPage);
        }

        function changeItemsPerPage() {
            itemsPerPage = parseInt(document.getElementById('itemsPerPage').value);
            currentPage = 1;
            showPage(currentPage);
        }

        function filterItems() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            let visibleCount = 0;

            allItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                const matches = text.includes(searchTerm);
                item.setAttribute('data-visible', matches);
                
                if (matches) {
                    visibleCount++;
                }
            });

            // Update display based on search
            if (searchTerm === '') {
                showPage(currentPage);
            } else {
                let shownCount = 0;
                allItems.forEach(item => {
                    if (item.getAttribute('data-visible') === 'true') {
                        if (shownCount < itemsPerPage) {
                            item.style.display = 'flex';
                            shownCount++;
                        } else {
                            item.style.display = 'none';
                        }
                    } else {
                        item.style.display = 'none';
                    }
                });
                
                document.getElementById('pagination').style.display = searchTerm ? 'none' : 'flex';
            }
        }

        // Initialize
        showPage(1);
    </script>
</body>
</html>
