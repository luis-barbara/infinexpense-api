<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories - InfinExpense</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">InfinExpense</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Dashboard</a></li>
                <li><a href="receipts.html" class="nav-link">Receipts</a></li>
                <li><a href="products.html" class="nav-link">Products</a></li>
                <li><a href="categories.html" class="nav-link active">Categories</a></li>
                <li><a href="merchants.html" class="nav-link">Merchants</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">Categories</h1>
            <a href="category-add.html" class="btn btn-primary">+ Add Category</a>
        </div>

        <!-- Date Range Filter -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <!-- Search Bar (Left) -->
            <div class="search-bar" style="margin-bottom: 0;">
                <input type="text" id="searchInput" class="search-input" placeholder="Search categories..." style="flex: 1;">
                <button class="btn btn-primary">Search</button>
            </div>
            
            <!-- Date Filter (Right) -->
            <div class="search-bar" style="margin-bottom: 0;">
                <label class="form-label" style="margin: 0; display: flex; align-items: center; gap: 1rem; white-space: nowrap; flex: 1; font-size: 0.8rem; padding: 0 0.5rem; text-align: center;">
                    <span style="text-align: center; line-height: 1.2;">Start<br>Date</span>
                    <input type="date" class="form-input" value="2025-11-01" style="flex: 1; margin: 0; min-width: 140px;">
                </label>
                <label class="form-label" style="margin: 0; display: flex; align-items: center; gap: 1rem; white-space: nowrap; flex: 1; font-size: 0.8rem; padding: 0 0.5rem; text-align: center;">
                    <span style="text-align: center; line-height: 1.2;">End<br>Date</span>
                    <input type="date" class="form-input" value="2025-11-30" style="flex: 1; margin: 0; min-width: 140px;">
                </label>
                <button class="btn btn-primary">Apply</button>
            </div>
        </div>

        <!-- Categories and Chart Layout -->
        <div class="content-wrapper" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
            <!-- Categories List (Left Side) -->
            <div class="card" style="margin-bottom: 0; display: flex; flex-direction: column; overflow: hidden;">
                <h3 class="detail-title" style="margin-bottom: 0.75rem; font-size: 1.1rem;">All Categories</h3>
                <div style="flex: 1; overflow-y: auto;">
                    <div class="list-container" style="box-shadow: none;">
                    <!-- Dairy Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #10b981; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Dairy</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">18 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">8.4%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">245.80 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3001.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Bakery Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #f97316; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Bakery</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">12 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">5.4%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">156.40 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3002.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Meat Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #ef4444; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Meat</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">24 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">16.7%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">487.50 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3003.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Vegetables Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #8b5cf6; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Vegetables</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">32 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">6.8%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">198.30 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3004.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Fruits Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #ec4899; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Fruits</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">28 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">5.8%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">167.90 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3005.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Condiments Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #a855f7; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Condiments</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">15 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">3.1%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">89.70 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3006.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Grains Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #84cc16; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Grains</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">22 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">4.3%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">124.60 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3007.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Beverages Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #f59e0b; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Beverages</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">35 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">10.7%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">312.45 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3008.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Snacks Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #6366f1; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Snacks</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">19 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">4.6%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">134.20 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3009.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Frozen Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #14b8a6; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Frozen</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">14 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">6.1%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">178.90 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3010.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Personal Care Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #3b82f6; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Personal Care</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">21 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">9.2%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">267.80 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3011.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Cleaning Category -->
                    <div class="list-item" style="padding: 0.5rem 0.75rem;">
                        <div class="list-item-main" style="display: grid; grid-template-columns: 32px 1fr 80px 70px 90px 80px; gap: 0.75rem; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: #06b6d4; border-radius: 6px;"></div>
                            <div style="font-weight: 600; font-size: 0.95rem; text-align: center;">Cleaning</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">16 Items</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem; text-align: center;">5.0%</div>
                            <div style="color: var(--primary-color); font-weight: 500; font-size: 0.95rem; text-align: center;">145.60 ‚Ç¨</div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <a href="category-edit-3012.html" class="btn btn-secondary btn-sm" title="Edit">‚úèÔ∏è</a>
                                <button class="btn btn-danger btn-sm" title="Delete">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

            <!-- Monthly Spending Chart (Right Side) -->
            <div class="card" style="margin-bottom: 0; display: flex; flex-direction: column; overflow: hidden;">
                <h3 class="detail-title" style="margin-bottom: 0.75rem; font-size: 1.1rem; text-align: center;">Category Spending Pie Chart</h3>
                <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <script>
        // Create pie chart for category spending
        const ctx = document.getElementById('categoryChart').getContext('2d');
        const categoryChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Meat', 'Beverages', 'Dairy', 'Personal Care', 'Vegetables', 'Frozen', 'Fruits', 'Bakery', 'Cleaning', 'Snacks', 'Grains', 'Condiments'],
                datasets: [{
                    data: [487.50, 312.45, 245.80, 267.80, 198.30, 178.90, 167.90, 156.40, 145.60, 134.20, 124.60, 89.70],
                    backgroundColor: [
                        '#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', 
                        '#14b8a6', '#ec4899', '#f97316', '#06b6d4', '#6366f1',
                        '#84cc16', '#a855f7'
                    ],
                    borderWidth: 2,
                    borderColor: '#ffffff',
                    hoverOffset: 20
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: true,
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleFont: {
                            size: 14,
                            weight: 'bold'
                        },
                        bodyFont: {
                            size: 12
                        },
                        padding: 12,
                        displayColors: false,
                        callbacks: {
                            title: function(context) {
                                return context[0].label;
                            },
                            label: function(context) {
                                const value = context.parsed.toFixed(2);
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = ((context.parsed / total) * 100).toFixed(1);
                                return [percentage + '%', value + ' ‚Ç¨'];
                            }
                        }
                    },
                    datalabels: {
                        color: '#ffffff',
                        font: {
                            weight: 'bold',
                            size: 11
                        },
                        formatter: function(value, context) {
                            return context.chart.data.labels[context.dataIndex];
                        },
                        textAlign: 'center',
                        anchor: 'center',
                        align: 'center'
                    }
                },
                animation: {
                    animateRotate: true,
                    animateScale: true
                }
            },
            plugins: [ChartDataLabels]
        });
    </script>
</body>
</html>
